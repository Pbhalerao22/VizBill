@* @model IEnumerable<VizBill.MasterDbContext.TblInnoRoleMaster>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout_1.cshtml";
}

<div class="breadcrumb-header justify-content-between mt-3">
    <div>
        <h4 class="content-title mb-2">Role Master</h4>
    </div>
</div>

<div>
    <a asp-action="Create" class="btn btn-outline-primary btn-sm mb-1"><i class="fe fe-plus me-2"></i>Add New</a>
</div>
<div class="row">
    <table id="tblRoleMaster" class="table table-bordered table-responsive-sm compact">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.RoleName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IsDeleted)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CreatedOn)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CreatedBy)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ModifiedOn)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ModifiedBy)
                </th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.RoleName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IsDeleted)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CreatedOn)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CreatedBy)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ModifiedOn)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ModifiedBy)
                    </td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.RoleId">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.RoleId">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.RoleId">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>





@section Scripts {
    <script>
        new DataTable('#tblRoleMaster', {
                responsive: true,
                autoWidth: false
            });

    </script>
}


 *@

@model IEnumerable<VizBill.MasterDbContext.TblInnoRoleMaster>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout_1.cshtml";
}

<h1 class="mb-4">Role Master</h1>

<div class="mb-3">
    <a asp-action="Create" class="btn btn-pos-primary">
        <i class="bi bi-plus-circle"></i> Create New
    </a>
</div>

<div class="table-responsive">
    <table id="roleTable" class="table table-striped table-bordered table-hover nowrap pos-table" style="width:100%">
        <thead class="pos-thead">
            <tr>
                <th>Role Name</th>
                <th>Deleted</th>
                <th>Created On</th>
                <th>Created By</th>
                <th>Modified On</th>
                <th>Modified By</th>
                <th class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td class="fw-semibold">@item.RoleName</td>

                    <td>
                        @if (item.IsDeleted == true)
                        {
                            <span class="badge bg-danger">Yes</span>
                        }
                        else
                        {
                            <span class="badge bg-success">No</span>
                        }
                    </td>

                    <td>
                        @(item.CreatedOn != null ? item.CreatedOn.ToString("dd MMM yyyy") : "-")
                    </td>

                    <td>@item.CreatedBy</td>

                    <td>
                        @(item.ModifiedOn != null ? item.ModifiedOn.Value.ToString("dd MMM yyyy") : "-")
                    </td>

                    <td>@item.ModifiedBy</td>

                    <td class="text-center">
                        <a asp-action="Edit" asp-route-id="@item.RoleId"
                           class="btn btn-sm btn-outline-pos me-1" title="Edit">
                            <i class="bi bi-pencil-square"></i>
                        </a>

                        <a asp-action="Details" asp-route-id="@item.RoleId"
                           class="btn btn-sm btn-outline-info me-1" title="Details">
                            <i class="bi bi-info-circle"></i>
                        </a>

                        <a asp-action="Delete" asp-route-id="@item.RoleId"
                           class="btn btn-sm btn-outline-danger" title="Delete">
                            <i class="bi bi-trash"></i>
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


<!-- DataTables CSS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/dataTables.bootstrap5.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
    /* =========================
               ORANGE POS THEME (SAME AS USERS)
            ========================= */
    :root {
        --pos-orange: #ff6b00;
        --pos-orange-dark: #e65c00;
        --pos-bg: #fff7f0;
        --pos-border: #ffe2cc;
    }

    body {
        background-color: var(--pos-bg);
    }

    /* Primary Button */
    .btn-pos-primary {
        background-color: var(--pos-orange);
        border: none;
        color: #fff;
        font-weight: 600;
        border-radius: 10px;
    }

        .btn-pos-primary:hover {
            background-color: var(--pos-orange-dark);
            color: #fff;
        }

    /* Orange Table Header */
    .pos-thead {
        background: linear-gradient(135deg, var(--pos-orange), var(--pos-orange-dark));
        color: #fff;
    }

        .pos-thead th {
            border: none !important;
            font-weight: 600;
            font-size: 14px;
        }

    /* Table Card Feel */
    .pos-table {
        background: #ffffff;
        border-radius: 12px;
        overflow: hidden;
    }

    /* Orange Outline Buttons (Edit) */
    .btn-outline-pos {
        border: 1.5px solid var(--pos-orange);
        color: var(--pos-orange);
        border-radius: 8px;
    }

        .btn-outline-pos:hover {
            background-color: var(--pos-orange);
            color: #fff;
        }

    /* DataTable Search Styling */
    div.dataTables_filter input {
        border-radius: 10px !important;
        border: 1px solid var(--pos-border) !important;
        padding: 6px 12px !important;
    }

    /* Mobile Optimization */
    @@media (max-width: 768px) {
        h1 {
            font-size: 22px;
        }

        table.dataTable {
            font-size: 13px;
        }

        .btn-sm {
            padding: 4px 8px;
        }
    }
</style>


@section Scripts {
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.5/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>

    <script>
        $(document).ready(function () {
            $('#roleTable').DataTable({
                responsive: true,
                paging: true,
                searching: true,
                ordering: true,
                columnDefs: [
                    { orderable: false, targets: -1 }
                ],
                lengthMenu: [[5, 10, 25, -1], [5, 10, 25, "All"]],
                language: {
                    search: "_INPUT_",
                    searchPlaceholder: "Search roles..."
                }
            });
        });
    </script>
}
